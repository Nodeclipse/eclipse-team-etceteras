---
layout: default
headertitle: Eclipse Team Etceteras - Remote Workspace Preferences Plug-in User Guide
title: Remote Workspace Preferences Plug-in User Guide
---

<h2>Overview</h2>

<h3>Introduction</h3>
<p>
The Remote Workspace Preferences Plug-in basically provides functionality to import Eclipse preference files (EPF) from remote locations accessible by HTTP. Besides that it is able to detect new or unconfigured Eclipse workspaces and a simple variable substitution mechanism allows for localization of the preferences.
</p>

<h3>Workflow</h3>

<img src="./img/ws-process.png" alt="Workflow"/>
<p>
The import process consists of three logical steps which are executed for each EPF file sequentially:
  <ul>
    <li>Fetch the EPF file from a web server using HTTP.</li>
    <li>During the second (optional) step, variables are substituted by Java system properties bearing the same name.</li>
    <li>The preferences are imported into the Eclipse workspace.</li>
  </ul>
</p>
<p>
The URLs of the EPF files can be configured in the preferences dialog and defaults can be set using an extension point provided in a (fragment) bundle.</li>
</p>

<h2>Applying Remote Preferences</h2>

<h3>Manually applying the remote preferences</h3>
<p>
To manually start the import process run <code>File > Import...</code> from the main menu. Then select <code>General > Remote Preferences</code>.
</p>

<img src="./img/import-wizard.png" alt="Remote Preferences Import Wizard">

<p>
The import wizard has two function modes:
  <ul>
    <li>Import from URL: Lets the user paste an URL of an EPF file into the text field and imports it. No variable substitutions are performed in this case.
    <li>Import from configured URL: Presents all URLs configured in the preference dialog to the user and gives the choice select which ones shall be imported. Variable substitutions are performed as configured on the preference page.
  </ul>
</p>

<h3>Autodetect unconfigured workspaces</h3>
<p>
If enabled in the configuration, the plug-in detects unconfigured workspaces during the start-up. It will then show the following dialog giving the user three options.</li>
  <ul>
    <li>No: The remote preferences are not imported and you are no longer bothered. However, you may still choose to start the import manually (see above).</li>
    <li>Ask again: The remote preferences are not imported, however the dialog will appear again next time the workspace is started.</li>
    <li>Yes: The remote preferences are imported right now. After a few seconds another dialog will give you the result of the import.</li>
  </ul>
</p>

<h2>Creating a Remote Preference File<h2>

<h3>Create a reference Workspace</h3>
<p>
Create a reference workspace containing all the preferences as they are supposed to be including the code repository connections. It is recommended to use a separate workspace just for the reason of being the reference for all others. Do not checkout projects or work in this workspace regularly, as this might affect your well crafted reference preferences.
</p>

<h3>Export the preferences</h3>
<p>
Export the preferences of the workspace to a file using Eclipse's native export wizard. More information about this step can be found in the <a href="http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.platform.doc.user/tasks/timpandexp.htm" alt="Eclipse Documentation - Importing and exporting preferences">Eclipse Documentation</a>.
</p>

<h3>Postprocess the preference file</h3>
<p>
There are two reasons for postprocessing the exported (epf) file:
</p>

<h4>1. Pick only a few settings</h4>
<p>
The Eclipse preferences export wizard exports all preferences of the workspace. If you just want to import some preferences, you will have to manually edit the epf file and remove all settings you don't want to distribute to other workspaces.
</p>
<pre>
Example:
 
  /instance/org.eclipse.core.resources/encoding=ISO-8859-1
</pre>


<h4>2. Do variable substitutions during the import process</h4>
<p>
During the import of the preference file, variable substitutions with Java system properties can be made. An example where this might be useful is to set the correct user names in CLASSPATH variables or code repository URLs.
</p>
<p>
Find the character sequences that shall be set during the import and replace them with the Java system property that shall be inserted instead. Make sure you prepend the system property name with a '$' character.
</p>

<pre>
Example:

  /instance/org.eclipse.jdt.core/org.eclipse.jdt.core.classpathVariable. &crarr;
    M2_REPO=c\:/Documents and Settings/$user.name/.m2/repository
</pre>

<p>
In this example, the location of the Maven local repository is user dependent and the <code>$user.name</code> of the Eclipse classpath variable <code>M2_REPO</code> will be substituted with the user name set in the Java system property <code>user.name</code>.
</p>

<p>
Hint: Don't forget to configure the variable replacement in the plug-in's preferences.
</p>

<h3>Recorder</h3>
<p>
A very simple preference recorder/differ eases the task of picking the changed settings:
  <ul>
    <li>Hit <code>ctrl+3</code> and type <code>recorder</code>, select the start command<br/>
    <img src="./img/recorder-start.png" alt="Recorder Start"/></li>
    <li>Open the preferences dialog and do all your changes</li>
    <li>Again, hit <code>ctrl+3</code> and type <code>recorder</code>, this time select the stop command. The following dialog outlining all removed, added and changed preferences. The contents can be selected and copied to serve as starting point for your tailored EPF file.<br/>
    <img src="./img/recorder-results.png" alt="Recorder Results"/></li>
  </ul>
</p>

<h3>Publish the file on a web server</h3>
<p>
Publish the epf file on some web server to which all team members have access.
</p>


<h2>Getting the Configuration Status of a Workspace</h2>
<p>
The configuration status including the date and time of the last configuration process can be seen in the Configuration Tab of the Installation Details Dialog available from the About Dialog. To open that dialog select <code>Help > About Eclipse SDK</code>, then hit the button <code>Installation Details</code> and finally select the tab <code>Configuration</code>.
</p>

<pre>
Example:

  *** ! Remote Workspace Preferences Import Status:
  Workspace configuration status: configured on 2009-08-10 22:39:15
</pre>


<h2>Preferences</h2>

<h3>Workspace Preferences</h3>
<p>
The behavior of the Remote Workspace Preference plug-in can be configured in the Eclipse preferences dialog. Open the dialog from the <code>Window > Preferences</code> menu. The settings are located on the <code>General > Workspace > Remote Preferences</code> page and contain the following options:
  <ul>
    <li>Remote preference file URLs: Enter the URLs to the remote preference files.</li>
    <li>JRE system properties to replace during the import: This list contains all JRE system properties that are being replaced during the import. The variables you enter may not contain the character '#'.</li>
    <li>Check for unconfigured workspace on startup: This option switches the automatic workspace configuration check on or off.</li>
  </ul>
</p>

<h3>Default Settings</h3>
<p>
There are no built-in default settings, but you may provide them using the extension point <code>ch.netcetera.eclipse.workspace.defaultConfiguration</code>. The extension point supports the following configration elements:
  <ul>
    <li><code>EpfUrl:</code> used to configure a single static URL to an EPF file (1:1 replacement of what was previously configured in the properties file)</li>
    <li><code>EpfUrlProvider:</code> registers a class implemeneting IEpfUrlProvider that can be used to programmatically calculate/provide an URL to an EPF file.</li>
    <li><code>NewWorkspaceDetection:</code> used to switch on/off the detection of new and unconfigured workspaces. true wins in case this setting is provided several times.</li>
    <li><code>JavaSystemPropertyReplacement:</code> used to configure a JRE system property replacement.</li>
  </ul>
</p>
